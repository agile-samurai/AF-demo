[
  {
    "name": "${env}-index-svc",
    "image": "${image}:${tag}",
    "cpu": 1024,
    "memory": 2048,
    "essential": true,
    "command": [
      "-Dconfig.resource=application-${env}.conf",
      "-Dlogback.configurationFile=logback-${env}.xml"
    ],
    "environment": [
      {
        "name": "DB_PASS",
        "value": "${db_pass}"
      },
      {
        "name": "ADMIN_PW",
        "value": "${admin_pass}"
      },
      {
        "name": "REGION",
        "value": "${region}"
      },
      {
        "name": "MONGO_PASSWORD",
        "value": "${mongo_pass}"
      },
      {
        "name": "SBT_OPTS",
        "value": "-Xmx2G -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=2G -Xss2M"
      },
      {
        "name": "KAFKA_INTERNAL_IP",
        "value": "${kafka_internal_ip}"
      },
      {
        "name": "ELASTICSEARCH",
        "value": "${elasticsearch}"
      }
    ],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${log_group}",
        "awslogs-region": "${region}",
        "awslogs-stream-prefix": "${env}_sso-service"
      }
    },
    "portMappings": [
      {
        "containerPort": 9101
      },
      {
        "containerPort": 9092
      },
      {
        "containerPort": 8081
      }
    ]
  }
]